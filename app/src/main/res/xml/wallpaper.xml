<?xml version="1.0" encoding="utf-8"?>
<wallpaper xmlns:android="http://schemas.android.com/apk/res/android"
    android:description="@string/app_name"
    android:thumbnail="@drawable/ic_launcher_foreground" />

<!--    ### 4. The EGL Boilerplate (Helper)-->
<!--    Since `WallpaperService` doesn't give you a `GLSurfaceView` by default, we need a small helper class to set up the OpenGL context. This is the standard "GLWallpaperService" pattern used in pro apps.-->

<!--    **File:** `app/src/main/java/com/example/atmosphere/GLWallpaperService.kt`-->
<!--    ```kotlin-->
<!--    package com.example.atmosphere-->

<!--    import android.content.Context-->
<!--    import android.opengl.GLSurfaceView-->
<!--    import android.service.wallpaper.WallpaperService-->
<!--    import android.view.SurfaceHolder-->

<!--    /**-->
<!--    * A helper class that bridges the gap between WallpaperService and GLSurfaceView.-->
<!--    * It creates a GLSurfaceView internally and passes touch/surface events to it.-->
<!--    */-->
<!--    abstract class GLWallpaperService : WallpaperService() {-->

<!--    inner class GLEngine : Engine() {-->
<!--    private var glSurfaceView: WallpaperGLSurfaceView? = null-->

<!--    override fun onCreate(surfaceHolder: SurfaceHolder) {-->
<!--    super.onCreate(surfaceHolder)-->
<!--    glSurfaceView = WallpaperGLSurfaceView(this@GLWallpaperService)-->
<!--    glSurfaceView?.renderer = getRenderer()-->
<!--    }-->

<!--    override fun onVisibilityChanged(visible: Boolean) {-->
<!--    super.onVisibilityChanged(visible)-->
<!--    if (visible) glSurfaceView?.onResume() else glSurfaceView?.onPause()-->
<!--    }-->

<!--    override fun onDestroy() {-->
<!--    super.onDestroy()-->
<!--    glSurfaceView?.onPause() // Ensure clean exit-->
<!--    }-->

<!--    // Forward standard events to the GL view-->
<!--    override fun onSurfaceChanged(holder: SurfaceHolder, format: Int, width: Int, height: Int) {-->
<!--    super.onSurfaceChanged(holder, format, width, height)-->
<!--    glSurfaceView?.surfaceChanged(holder, format, width, height)-->
<!--    }-->

<!--    override fun onSurfaceCreated(holder: SurfaceHolder) {-->
<!--    super.onSurfaceCreated(holder)-->
<!--    glSurfaceView?.surfaceCreated(holder)-->
<!--    }-->

<!--    override fun onSurfaceDestroyed(holder: SurfaceHolder) {-->
<!--    super.onSurfaceDestroyed(holder)-->
<!--    glSurfaceView?.surfaceDestroyed(holder)-->
<!--    }-->

<!--    // Helper to access the view from the Service-->
<!--    fun requestRender() {-->
<!--    glSurfaceView?.requestRender()-->
<!--    }-->
<!--    }-->

<!--    abstract fun getRenderer(): GLSurfaceView.Renderer-->

<!--    // Inner class that acts as the actual GL View-->
<!--    inner class WallpaperGLSurfaceView(context: Context) : GLSurfaceView(context) {-->
<!--    init {-->
<!--    setEGLContextClientVersion(3) // OpenGL ES 3.0-->
<!--    preserveEGLContextOnPause = true-->
<!--    }-->

<!--    override fun getHolder(): SurfaceHolder {-->
<!--    // IMPORTANT: Return the WallpaperService's surface holder, not the View's default one-->
<!--    return this@GLWallpaperService.GLEngine().surfaceHolder-->
<!--    }-->

<!--    fun setRenderer(renderer: Renderer, dummy: Boolean = false) {-->
<!--    super.setRenderer(renderer)-->
<!--    renderMode = RENDERMODE_WHEN_DIRTY // Save battery, render only on animation frame-->
<!--    }-->
<!--    }-->
<!--    }-->